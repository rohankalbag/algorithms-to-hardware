$pipe A B C: $uint<32> $depth 2 

// daemon
$module [shift_reg_stage_1] $in () $out () $is
{
	$branchblock[loop] {
		$merge $entry loopback $endmerge
			X := A
			B := X
		$place [loopback]
	}  
}

// daemon
$module [shift_reg_stage_2] $in () $out () $is
{
	$branchblock[loop] {
		$merge $entry loopback $endmerge
			X := B
			C := X
		$place [loopback]
	}  
}

